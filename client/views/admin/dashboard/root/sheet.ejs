<!--
// v0 by Vercel.
// https://v0.dev/t/ATDWkY3fmS0
-->

<div class="flex flex-col gap-8 p-6 md:p-8">
    <div class="flex flex-col gap-4 md:flex-row md:items-center">
      <div class="flex flex-col gap-2">
        <h1 class="text-2xl font-bold">User Management</h1>
        <p class="text-gray-500 dark:text-gray-400">Manage and view user details.</p>
      </div>
      <div class="flex flex-col gap-2 md:ml-auto md:flex-row md:items-center">
        <div class="flex items-center gap-2">
          <label for="roll-number" class="text-sm font-medium text-gray-700 dark:text-gray-300">
            Roll Number
          </label>
          <input
            id="roll-number"
            type="text"
            placeholder="Enter roll number"
            class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
          />
        </div>
        <div class="flex items-center gap-2">
          <label for="name" class="text-sm font-medium text-gray-700 dark:text-gray-300">
            Name
          </label>
          <input
            id="name"
            type="text"
            placeholder="Enter name"
            class="block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
          />
        </div>
        <div class="flex items-center gap-2">
          <label for="ug" class="text-sm font-medium text-gray-700 dark:text-gray-300">
            Department
          </label>
          <select
            id="ug"
            class="block w-40 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
          >
            <option value="" selected="">
              Select UG
            </option>
            <option value="btech">Computer Science</option>
            <option value="bsc">Electronics</option>
            <option value="ba">AI/ML</option>
          </select>
        </div>
        <button
          id="filter-btn"
          type="button"
          class="ml-auto inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"
        >
          Filter
        </button>
      </div>
    </div>
    <div class="overflow-x-auto">
      <table class="w-full divide-y divide-gray-200 dark:divide-gray-700">
        <thead class="bg-gray-50 dark:bg-gray-800">
          <tr>
            <th
              scope="col"
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400"
            >
              Roll Number
            </th>
            <th
              scope="col"
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400"
            >
              Name
            </th>
            <th
              scope="col"
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400"
            >
              Department
            </th>
            <th
              scope="col"
              class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400"
            >
              Actions
            </th>
          </tr>
        </thead>
        <tbody id="details_list" class="divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-900">
          <tr>
            <td class="whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900 dark:text-gray-100">2021001</td>
            <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-500 dark:text-gray-400">John Doe</td>
            <td class="whitespace-nowrap px-6 py-4 text-sm text-gray-500 dark:text-gray-400">B.Tech</td>
            <td class="whitespace-nowrap px-6 py-4 text-sm font-medium">
              <button
                type="button"
                class="inline-flex items-center rounded-md border border-transparent bg-indigo-100 px-3 py-2 text-sm font-medium text-indigo-700 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:bg-indigo-800 dark:text-indigo-200 dark:hover:bg-indigo-700"
              >
                Show Details
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>


<script>
    const filterBtn = document.getElementById('filter-btn');
    const detailsList = document.getElementById('details_list');
    const dummyData = [
    {
        rollNumber: '2021001',
        name: 'John Doe',
        department: 'B.Tech'
    },
    {
        rollNumber: '2021002',
        name: 'Jane Smith',
        department: 'B.Sc'
    },
    {
        rollNumber: '2021003',
        name: 'Alex Johnson',
        department: 'B.A'
    }
];

    filterBtn.addEventListener('click', () => {
        const rollNumber = document.getElementById('roll-number').value;
        const name = document.getElementById('name').value;
        const department = document.getElementById('ug').value;
        // Dummy data for students

        // Update the table with the dummy data
        updateTable(dummyData);

        // Make a GET request with the filter parameters
      
    });

    function updateTable(data) {
        // Clear the existing table rows
        detailsList.innerHTML = '';

        // Create new table rows for each user
        data.forEach(user => {
            const row = document.createElement('tr');

            const rollNumberCell = document.createElement('td');
            rollNumberCell.classList.add("whitespace-nowrap", "px-6", "py-4", "text-sm", "font-medium", "text-gray-900", "dark:text-gray-100");
            rollNumberCell.textContent = user.rollNumber;
            row.appendChild(rollNumberCell);

            const nameCell = document.createElement('td');
            nameCell.classList.add("whitespace-nowrap", "px-6", "py-4", "text-sm", "text-gray-500", "dark:text-gray-400");
            nameCell.textContent = user.name;
            row.appendChild(nameCell);

            const departmentCell = document.createElement('td');
            departmentCell.classList.add("whitespace-nowrap", "px-6", "py-4", "text-sm", "text-gray-500", "dark:text-gray-400");
            departmentCell.textContent = user.department;
            row.appendChild(departmentCell);

            const actionsCell = document.createElement('td');
            const showDetailsButton = document.createElement('button');
            showDetailsButton.textContent = 'Show Details';
            showDetailsButton.classList.add('inline-flex', 'items-center', 'rounded-md', 'border', 'border-transparent', 'bg-indigo-100', 'px-3', 'py-2', 'text-sm', 'font-medium', 'text-indigo-700', 'hover:bg-indigo-200', 'focus:outline-none', 'focus:ring-2', 'focus:ring-indigo-500', 'focus:ring-offset-2', 'dark:bg-indigo-800', 'dark:text-indigo-200', 'dark:hover:bg-indigo-700');
            
            actionsCell.appendChild(showDetailsButton);
            row.appendChild(actionsCell);

            detailsList.appendChild(row);
            
        });
    }
</script>
